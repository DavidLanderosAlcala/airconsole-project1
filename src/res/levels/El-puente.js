LevelManager.getLevels().push({
    title: 'The bridge',
    descriptions: ["Draw a bridge so the jeep is able to cross to the other side", "Use only a sigle shape", "the jeep should arrive in less than 30 sec"],
    show_timer: true,
    bodies: [{
        "label": "untitled-shape",
        "type": "polygon",
        "position": [0, 0],
        "isStatic": true,
        "isSensor": false,
        "respawn": false,
        "vertices": [
            [3.16875832327187, 5.6016126777193875],
            [3.128036043674051, -2.2238934187092436],
            [11.256610929856162, -2.2408905857842836],
            [11.224031395756636, 6.6316410976509195],
            [4.317186244618441, 6.614643930575881],
            [4.300896534582721, 5.611809883345756]
        ]
    }, {
        "label": "untitled-shape",
        "type": "polygon",
        "position": [0, 0],
        "isStatic": true,
        "isSensor": false,
        "respawn": false,
        "vertices": [
            [-3.1435677002840974, 5.565485285027416],
            [-3.102746176123671, -2.300728255503385],
            [-11.251131271045221, -2.317813840020065],
            [-11.218472337127137, 6.600871802417607],
            [-4.294794463637122, 6.583786217900926],
            [-4.278465053831074, 5.57573553542468]
        ]
    }, {
        "label": "sensor",
        "type": "polygon",
        "position": [0, 0],
        "isStatic": true,
        "isSensor": true,
        "respawn": false,
        "vertices": [
            [6.915400390624999, 7.980004272460937],
            [10.161561584472658, 7.980004272460937],
            [10.161561584472658, 6.856924819946288],
            [6.915400390624999, 6.856924819946288]
        ]
    }, {
        "label": "wheel1",
        "type": "polygon",
        "position": [0, 0],
        "isStatic": false,
        "isSensor": false,
        "respawn": false,
        "vertices": [
            [-9.28826478909626, 7.335391184818076],
            [-9.28684758909626, 7.5125384848180765],
            [-9.217405889096261, 7.509704084818076],
            [-9.17063898909626, 7.618826884818076],
            [-9.22165738909626, 7.678348384818077],
            [-9.099779989096259, 7.795974184818077],
            [-9.04592728909626, 7.742121384818077],
            [-8.93822168909626, 7.791722684818076],
            [-8.936804489096259, 7.861164384818076],
            [-8.76532588909626, 7.859747184818077],
            [-8.76249148909626, 7.790305484818076],
            [-8.64911728909626, 7.747790084818077],
            [-8.60235038909626, 7.795974184818077],
            [-8.47338708909626, 7.668428084818077],
            [-8.52582268909626, 7.625912784818077],
            [-8.483307389096261, 7.511121284818077],
            [-8.41244848909626, 7.5125384848180765],
            [-8.413865589096261, 7.342477084818077],
            [-8.48897608909626, 7.342477084818077],
            [-8.53149138909626, 7.233354284818077],
            [-8.48047298909626, 7.178084284818077],
            [-8.60235038909626, 7.056206984818076],
            [-8.65195158909626, 7.110059784818076],
            [-8.76249148909626, 7.066127184818077],
            [-8.759657189096261, 6.989599584818076],
            [-8.93963888909626, 6.989599584818076],
            [-8.93822168909626, 7.057624184818076],
            [-9.04451008909626, 7.104391084818077],
            [-9.09552848909626, 7.051955484818076],
            [-9.220240189096259, 7.178084284818077],
            [-9.17205618909626, 7.227685584818077],
            [-9.21882298909626, 7.336808284818076]
        ]
    }, {
        "label": "wheel2",
        "type": "polygon",
        "position": [0, 0],
        "isStatic": false,
        "isSensor": false,
        "respawn": false,
        "vertices": [
            [-7.106451427513593, 7.335391164760084],
            [-7.105034237545819, 7.512538478672413],
            [-7.0355925080425274, 7.509704129206212],
            [-6.988825604738185, 7.618826873113679],
            [-7.0398440474765, 7.6783483642505965],
            [-6.917966685267119, 7.795974187026006],
            [-6.864113893062604, 7.742121394821488],
            [-6.756408339122906, 7.791722647592035],
            [-6.754991149155135, 7.861164407564667],
            [-6.583512534175211, 7.859747217596898],
            [-6.580678184709009, 7.790305457624264],
            [-6.467303901367572, 7.747790124223231],
            [-6.420536998063225, 7.795974187026006],
            [-6.291573746953672, 7.668428125884225],
            [-6.34400937965976, 7.62591276201385],
            [-6.301494015789389, 7.5111212887046435],
            [-6.2306350963183235, 7.512538478672413],
            [-6.232052255816752, 7.342477053660257],
            [-6.307162714721789, 7.342477053660257],
            [-6.349678078592163, 7.233354309752792],
            [-6.2986596663231875, 7.178084327580502],
            [-6.420536998063225, 7.056206965371122],
            [-6.470138250833772, 7.11005975757564],
            [-6.580678184709009, 7.066127234206837],
            [-6.577843835242809, 6.98959958533403],
            [-6.757825498621337, 6.98959958533403],
            [-6.756408339122906, 7.057624155338893],
            [-6.86269670309483, 7.104391058643239],
            [-6.913715145833148, 7.051955456406493],
            [-7.03842685750873, 7.178084327580502],
            [-6.990242794705955, 7.227685580351049],
            [-7.037009667540961, 7.336808324258515]
        ]
    }, {
        "label": "jeep",
        "type": "polygon",
        "position": [0, 0],
        "isStatic": false,
        "isSensor": false,
        "respawn": false,
        "vertices": [
            [-9.526502929882811, 8.591502473291015],
            [-9.284797829882812, 8.600291773291016],
            [-9.210088929882811, 8.872759373291014],
            [-9.113406929882812, 8.903521873291014],
            [-7.500574429882813, 8.837602273291015],
            [-7.2281068298828135, 8.402532973291015],
            [-6.327205929882812, 8.279483073291015],
            [-6.1162632298828115, 7.967463773291015],
            [-6.204156029882813, 7.958674473291015],
            [-6.199761329882813, 7.897149573291015],
            [-6.072316829882811, 7.897149573291015],
            [-6.0020026298828135, 7.844413873291015],
            [-6.010791929882812, 7.738942573291015],
            [-6.103079329882812, 7.690601573291015],
            [-6.2261292298828135, 7.694996173291014],
            [-6.270075629882813, 8.037777973291014],
            [-6.335995229882812, 8.068540473291016],
            [-6.8765357298828125, 8.059751173291016],
            [-6.9424553298828116, 8.024594073291015],
            [-7.175371229882812, 7.703785473291015],
            [-8.313582629882813, 7.712574673291015],
            [-8.581655629882812, 8.033383373291016],
            [-8.687126929882812, 8.059751173291016],
            [-9.095828329882812, 8.050961873291016],
            [-9.148564029882813, 7.989436973291015],
            [-9.267219229882812, 7.686206873291015],
            [-9.464978029882813, 7.690601573291015],
            [-9.530897629882812, 7.752126473291015],
            [-9.522108329882812, 7.879570973291015],
            [-9.390269129882812, 7.888360273291013],
            [-9.539686829882813, 7.945490573291014]
        ]
    }],
    tacks: [{
        "label": "untitled-shape",
        "position": [-8.85, 7.43],
        "respawn": false,
        "bodyA": "jeep",
        "bodyB": "wheel1"
    }, {
        "label": "untitled-shape",
        "position": [-6.66, 7.43],
        "respawn": false,
        "bodyA": "jeep",
        "bodyB": "wheel2"
    }],
    hints: [{
        "label": "untitled-shape",
        "position": [0, 0],
        "respawn": false,
        "vertices": [
            [-4.146163330078125, 8.799999999999999],
            [4.146163330078124, 8.799999999999999],
            [4.146163330078124, 7.815382385253906],
            [-4.146163330078125, 7.815382385253906],
            [-4.146163330078125, 8.799999999999999]
        ],
        "line": null,
        "opacity": "0.25"
    }],
    decorations: [],
    setup: function(ctx) {

        ctx.bitflag = 0;
        ctx.velocity = 0;
        ctx.wheel1 = Physics.getBodyByLabel("wheel1");
        ctx.wheel2 = Physics.getBodyByLabel("wheel2");

        Phy.on("addBody", function() {
            Game.getHints()[0].opacity = 0;
            ctx.velocity = 10;
        });

        Phy.on("beginContactBetween", "sensor", "jeep", function() {
            Screen.setSubtitle("Nice solution!");
            ctx.velocity = -20;
            ctx.bitflag = FIRST_STAR;
            if (Game.getDrawnObjectsCount() == 1) {
                ctx.bitflag |= SECOND_STAR;
            }
            if (Game.getTime() < 60) {
                ctx.bitflag |= THIRD_STAR;
            }
        });
    },
    update: function(ctx) {
        ctx.wheel1.angularVelocity = ctx.velocity;
        ctx.wheel2.angularVelocity = ctx.velocity;
        return ctx.bitflag;
    },
});